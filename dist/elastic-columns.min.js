/* Elastic Columns 0.2.1 - https://github.com/johansatge/elastic-columns */
!function(a){a.elasticColumns=function(b,c){function d(){for(var a=0,b=0;b<e.settings.columns;b+=1)e.columns[b]<e.columns[a]&&(a=b);return a}var e=this;this.defaults={columns:3,innerMargin:10,outerMargin:10},this.settings={},this.$element=a(b),this.columns=[],this.init=function(){this.settings=a.extend({},this.defaults,c),this.buildLayout()},this.buildLayout=function(){for(var b=this.$element.children(":not(.elastic-columns-ignore)"),c=this.$element.width(),e=(c-this.settings.innerMargin*(this.settings.columns-1)-2*this.settings.outerMargin)/this.settings.columns,f=0;f<this.settings.columns;f+=1)this.columns[f]=this.settings.outerMargin;var g,h,i,j=a(b.get(0));if(j){g=j.parent();var k=parseInt(g.css("padding-left")),l=parseInt(g.css("padding-top"));i=g.offset().left+k,h=g.offset().top+l}for(var m=0;m<b.length;m+=1){var n=a(b.get(m)),o=d(),p="relative"===this.settings.position;n.css("position","absolute"),n.css("width",e+"px"),n.css("left",i*p+this.settings.outerMargin+this.settings.innerMargin*o+o*e+"px"),n.css("top",h*p+this.columns[o]+"px"),this.columns[o]+=n.outerHeight()+this.settings.innerMargin}for(var q=0,r=0;r<this.settings.columns;r+=1)this.columns[r]>this.columns[q]&&(q=r);this.$element.outerHeight(this.columns[q]+"px")},this.destroyLayout=function(){for(var b=this.$element.children(":not(.elastic-columns-ignore)"),c=0;c<b.length;c+=1){var d=a(b.get(c));d.css({position:"",width:"",left:"",top:""})}this.$element.css({height:""})}},a.fn.elasticColumns=function(b,c,d){return this.each(function(){var e=a(this).data("elasticColumns");"undefined"==typeof e?(e=new a.elasticColumns(this,b),a(this).data("elasticColumns",e),e.init()):("refresh"==b&&e.buildLayout(),"set"==b&&(e.settings[c]=d),"destroy"==b&&e.destroyLayout())})}}(jQuery);